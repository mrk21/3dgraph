<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>3dGraph: sources/3dGraph.cpp ソースファイル</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li><a href="namespaces.html"><span>ネームスペース</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
<h1>sources/3dGraph.cpp</h1><a href="3d_graph_8cpp.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00008"></a>00008 <span class="preprocessor">#if 0</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#define     _WIN32_WINNT    0x0400</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="_ploter_8h.html" title="データを３次元グラフで表示する。">Ploter/Ploter.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include    "Resource/ResForm.h"</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 LRESULT  CALLBACK  <a class="code" href="3d_graph_8cpp.html#e38da05264aaae6d7e93b2dac3235476" title="メインウィンドウのウィンドウプロシージャ。">mainWindowProcedure</a>( HWND,  UINT,  WPARAM,  LPARAM );
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00023"></a><a class="code" href="struct_file_dialog_info.html">00023</a> <span class="keyword">struct </span><a class="code" href="struct_file_dialog_info.html" title="ファイルダイアログの情報を格納する。">FileDialogInfo</a> {
<a name="l00024"></a>00024     
<a name="l00025"></a><a class="code" href="struct_file_dialog_info.html#339fdeec7655fa24f2ef8746c577f096">00025</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code" href="struct_file_dialog_info.html#339fdeec7655fa24f2ef8746c577f096">mFilterList</a>;          <span class="comment">//  フィルタリスト。</span>
<a name="l00026"></a><a class="code" href="struct_file_dialog_info.html#085e3b3dde5d325841fc7ede280716e1">00026</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code" href="struct_file_dialog_info.html#085e3b3dde5d325841fc7ede280716e1">mDefaultExtension</a>;    <span class="comment">//  初期拡張子。</span>
<a name="l00027"></a><a class="code" href="struct_file_dialog_info.html#2f257ffa57fd5895f8f5f816eeb8ce6e">00027</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code" href="struct_file_dialog_info.html#2f257ffa57fd5895f8f5f816eeb8ce6e">mTitle</a>;               <span class="comment">//  ダイアログのタイトル。</span>
<a name="l00028"></a>00028 };
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">namespace </span>{
<a name="l00032"></a>00032     
<a name="l00033"></a><a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">00033</a>     HINSTANCE    <a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">current</a>;        <span class="comment">//  現在のプロセスのインスタンスハンドル。</span>
<a name="l00034"></a><a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c">00034</a>     <span class="keywordtype">int</span>          <a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c">commandShow</a>;    <span class="comment">//  ウィンドウの状態。</span>
<a name="l00035"></a>00035     
<a name="l00036"></a>00036     
<a name="l00037"></a><a class="code" href="3d_graph_8cpp.html#6a4a242d4c21f1ce0dac4ceed022aaa1">00037</a>     <span class="keyword">const</span> <a class="code" href="struct_file_dialog_info.html" title="ファイルダイアログの情報を格納する。">FileDialogInfo</a>    <a class="code" href="3d_graph_8cpp.html#6a4a242d4c21f1ce0dac4ceed022aaa1">openPlotFile</a>  =  {
<a name="l00038"></a>00038         
<a name="l00039"></a>00039         <span class="stringliteral">"データファイル(*.txt)¥0*.txt¥0*.*¥0*.*¥0¥0"</span>,
<a name="l00040"></a>00040         <span class="stringliteral">"txt"</span>,
<a name="l00041"></a>00041         <span class="stringliteral">"ファイルを開く"</span>
<a name="l00042"></a>00042     };
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00051"></a><a class="code" href="class_exception.html">00051</a> <span class="keyword">class </span><a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a> {
<a name="l00052"></a>00052     
<a name="l00053"></a>00053   <span class="keyword">public</span>:
<a name="l00054"></a>00054     
<a name="l00055"></a><a class="code" href="class_exception.html#d81aea005ef4b6f60c9506dd15b7d8b9">00055</a>     <a class="code" href="class_exception.html#d81aea005ef4b6f60c9506dd15b7d8b9">Exception</a>( <span class="keyword">const</span> std::string&amp;  type,   <span class="keyword">const</span> std::string&amp;  cause )  :
<a name="l00056"></a>00056         
<a name="l00057"></a>00057         <a class="code" href="class_exception.html#5e098beaf028664f91f44481bcfb2c04">mMessage</a>( <span class="stringliteral">"Error : "</span>  +  type  +  <span class="stringliteral">"  --  "</span>  +  cause )
<a name="l00058"></a>00058     {}
<a name="l00059"></a>00059     
<a name="l00060"></a>00060     
<a name="l00061"></a><a class="code" href="class_exception.html#da271ee89d087e2dd899c4bce8d3281f">00061</a>     BOOL  <a class="code" href="class_exception.html#da271ee89d087e2dd899c4bce8d3281f">operator ()</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{
<a name="l00062"></a>00062         
<a name="l00063"></a>00063         MessageBox( 0,  <a class="code" href="class_exception.html#5e098beaf028664f91f44481bcfb2c04">mMessage</a>.c_str(),  <span class="stringliteral">"Error"</span>,  MB_OK );
<a name="l00064"></a>00064         
<a name="l00065"></a>00065         <span class="keywordflow">return</span>  FALSE;
<a name="l00066"></a>00066     }
<a name="l00067"></a>00067     
<a name="l00068"></a>00068   <span class="keyword">private</span>:
<a name="l00069"></a>00069     
<a name="l00070"></a><a class="code" href="class_exception.html#5e098beaf028664f91f44481bcfb2c04">00070</a>     std::string    <a class="code" href="class_exception.html#5e098beaf028664f91f44481bcfb2c04">mMessage</a>;     <span class="comment">//  エラーメッセージ。</span>
<a name="l00071"></a>00071 };
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00079"></a><a class="code" href="class_window.html">00079</a> <span class="keyword">class </span><a class="code" href="class_window.html" title="ウィンドウを定義。">Window</a> {
<a name="l00080"></a>00080     
<a name="l00081"></a>00081   <span class="keyword">public</span>:
<a name="l00082"></a>00082     
<a name="l00083"></a><a class="code" href="class_window.html#c4d01999429e8ac9a7d6e051b75b1d47">00083</a>     <a class="code" href="class_window.html#c4d01999429e8ac9a7d6e051b75b1d47">Window</a>( WNDPROC  windowProcedure,   <span class="keyword">const</span> <span class="keywordtype">char</span>*  menuName,   <span class="keyword">const</span> <span class="keywordtype">char</span>*  className )  <span class="keywordflow">throw</span>( <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a> )  :
<a name="l00084"></a>00084         
<a name="l00085"></a>00085         <a class="code" href="class_window.html#e16dc69d00d1009772c0f0ef2b437ad4">mMenuName</a> ( menuName  ),
<a name="l00086"></a>00086         <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a>( className )
<a name="l00087"></a>00087     {
<a name="l00088"></a>00088         WNDCLASSEX     windowClass;
<a name="l00089"></a>00089         
<a name="l00090"></a>00090         
<a name="l00091"></a>00091         windowClass.cbSize         =  <span class="keyword">sizeof</span>( WNDCLASSEX );
<a name="l00092"></a>00092         windowClass.style          =  CS_HREDRAW  |  CS_VREDRAW;
<a name="l00093"></a>00093         windowClass.lpfnWndProc    =  windowProcedure;
<a name="l00094"></a>00094         windowClass.cbClsExtra     =  0;
<a name="l00095"></a>00095         windowClass.cbWndExtra     =  0;
<a name="l00096"></a>00096         windowClass.hInstance      =<a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">  ::current</a>;
<a name="l00097"></a>00097         windowClass.hbrBackground  =  <span class="keyword">static_cast&lt;</span> HBRUSH <span class="keyword">&gt;</span>( GetStockObject( WHITE_BRUSH ) );
<a name="l00098"></a>00098         windowClass.lpszMenuName   =  <span class="keyword">static_cast&lt;</span> LPCSTR <span class="keyword">&gt;</span>( <a class="code" href="class_window.html#e16dc69d00d1009772c0f0ef2b437ad4">mMenuName</a>                     );
<a name="l00099"></a>00099         windowClass.lpszClassName  =  <span class="keyword">static_cast&lt;</span> LPCSTR <span class="keyword">&gt;</span>( <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a>                    );
<a name="l00100"></a>00100         
<a name="l00101"></a>00101         
<a name="l00102"></a>00102         windowClass.hIcon = <span class="keyword">static_cast&lt;</span>HICON<span class="keyword">&gt;</span>(
<a name="l00103"></a>00103             
<a name="l00104"></a>00104             LoadImage(
<a name="l00105"></a>00105                 
<a name="l00106"></a>00106                 0,
<a name="l00107"></a>00107                 MAKEINTRESOURCE(IDI_APPLICATION),
<a name="l00108"></a>00108                 IMAGE_ICON,
<a name="l00109"></a>00109                 0,0,
<a name="l00110"></a>00110                 LR_DEFAULTSIZE | LR_SHARED
<a name="l00111"></a>00111             )
<a name="l00112"></a>00112         );
<a name="l00113"></a>00113         windowClass.hCursor = <span class="keyword">static_cast&lt;</span>HCURSOR<span class="keyword">&gt;</span>(
<a name="l00114"></a>00114             
<a name="l00115"></a>00115             LoadImage(
<a name="l00116"></a>00116                 
<a name="l00117"></a>00117                 0,
<a name="l00118"></a>00118                 MAKEINTRESOURCE(IDC_ARROW),
<a name="l00119"></a>00119                 IMAGE_CURSOR,
<a name="l00120"></a>00120                 0,0,
<a name="l00121"></a>00121                 LR_DEFAULTSIZE | LR_SHARED
<a name="l00122"></a>00122             )
<a name="l00123"></a>00123         );
<a name="l00124"></a>00124         windowClass.hIconSm = <span class="keyword">static_cast&lt;</span>HICON<span class="keyword">&gt;</span>(
<a name="l00125"></a>00125             
<a name="l00126"></a>00126             LoadImage(
<a name="l00127"></a>00127                 
<a name="l00128"></a>00128                 0,
<a name="l00129"></a>00129                 MAKEINTRESOURCE(IDI_APPLICATION),
<a name="l00130"></a>00130                 IMAGE_ICON,
<a name="l00131"></a>00131                 0,0,
<a name="l00132"></a>00132                 LR_DEFAULTSIZE | LR_SHARED
<a name="l00133"></a>00133             )
<a name="l00134"></a>00134         );
<a name="l00135"></a>00135         
<a name="l00136"></a>00136         
<a name="l00137"></a>00137         <span class="keywordflow">if</span> ( ! RegisterClassEx( &amp;windowClass ) ) {
<a name="l00138"></a>00138             
<a name="l00139"></a>00139             <span class="keywordflow">throw</span>  <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a>( <span class="stringliteral">"ウィンドウクラスが不正です。"</span>,  <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a> );
<a name="l00140"></a>00140         }
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142     
<a name="l00143"></a>00143     
<a name="l00144"></a><a class="code" href="class_window.html#470537671ff84cb044d913432acf98ae">00144</a>     <span class="keywordtype">void</span>  <a class="code" href="class_window.html#470537671ff84cb044d913432acf98ae">create</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>*  title,   std::size_t  width,   std::size_t  height ) <span class="keyword">const</span> <span class="keywordflow">throw</span>( <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a> ) {
<a name="l00145"></a>00145         
<a name="l00146"></a>00146         HWND    window(
<a name="l00147"></a>00147             
<a name="l00148"></a>00148             CreateWindow(
<a name="l00149"></a>00149                 
<a name="l00150"></a>00150                 <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a>,
<a name="l00151"></a>00151                 title,
<a name="l00152"></a>00152                 WS_OVERLAPPEDWINDOW,
<a name="l00153"></a>00153                 CW_USEDEFAULT,
<a name="l00154"></a>00154                 CW_USEDEFAULT,
<a name="l00155"></a>00155                 width,
<a name="l00156"></a>00156                 height,
<a name="l00157"></a>00157                 0,
<a name="l00158"></a>00158                 0,
<a name="l00159"></a>00159                 ::<a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">current</a>,
<a name="l00160"></a>00160                 0
<a name="l00161"></a>00161             )
<a name="l00162"></a>00162         );
<a name="l00163"></a>00163         
<a name="l00164"></a>00164         
<a name="l00165"></a>00165         <span class="keywordflow">if</span> ( ! window ) {
<a name="l00166"></a>00166             
<a name="l00167"></a>00167             <span class="keywordflow">throw</span>  <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a>( <span class="stringliteral">"ウィンドウ生成に失敗しました。"</span>,  <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a> );
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169         
<a name="l00170"></a>00170         
<a name="l00171"></a>00171         ShowWindow  ( window,  ::<a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c">commandShow</a> );
<a name="l00172"></a>00172         UpdateWindow( window                 );
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174     
<a name="l00175"></a>00175   <span class="keyword">private</span>:
<a name="l00176"></a>00176     
<a name="l00177"></a><a class="code" href="class_window.html#e16dc69d00d1009772c0f0ef2b437ad4">00177</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code" href="class_window.html#e16dc69d00d1009772c0f0ef2b437ad4">mMenuName</a>;       <span class="comment">//  メニューリソースの名前。</span>
<a name="l00178"></a><a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">00178</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code" href="class_window.html#da76c9061fbf75a0a9e2920d6cd6ce6f">mClassName</a>;      <span class="comment">//  ウィンドウクラスの名前。</span>
<a name="l00179"></a>00179 };
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00187"></a><a class="code" href="class_open_g_l.html">00187</a> <span class="keyword">class </span><a class="code" href="class_open_g_l.html" title="OpenGL用のレンダリングコンテキストを定義。">OpenGL</a> {
<a name="l00188"></a>00188     
<a name="l00189"></a>00189   <span class="keyword">public</span>:
<a name="l00190"></a>00190     
<a name="l00191"></a><a class="code" href="class_open_g_l.html#f5a59472e49278dc51dd427d567791e0">00191</a>     <a class="code" href="class_open_g_l.html#f5a59472e49278dc51dd427d567791e0">OpenGL</a>( <span class="keywordtype">void</span> ) {
<a name="l00192"></a>00192         
<a name="l00193"></a>00193         memset( &amp;<a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>,  0,  <span class="keyword">sizeof</span>( PIXELFORMATDESCRIPTOR ) );
<a name="l00194"></a>00194         
<a name="l00195"></a>00195         
<a name="l00196"></a>00196         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.nSize       =  <span class="keyword">sizeof</span>( PIXELFORMATDESCRIPTOR );
<a name="l00197"></a>00197         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.nVersion    =  1;
<a name="l00198"></a>00198         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.dwFlags     =  PFD_DRAW_TO_WINDOW  |  PFD_SUPPORT_OPENGL  |  PFD_DOUBLEBUFFER;
<a name="l00199"></a>00199         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.iPixelType  =  PFD_TYPE_RGBA;
<a name="l00200"></a>00200         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.cColorBits  =  24;
<a name="l00201"></a>00201         <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>.iLayerType  =  PFD_MAIN_PLANE;
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203     
<a name="l00204"></a>00204     
<a name="l00205"></a><a class="code" href="class_open_g_l.html#477b9f617b647ed128a9869ce8e68703">00205</a>     HGLRC  <a class="code" href="class_open_g_l.html#477b9f617b647ed128a9869ce8e68703">operator ()</a>( HDC  deviceContext )<span class="keyword"> const </span>{
<a name="l00206"></a>00206         
<a name="l00207"></a>00207         SetPixelFormat(
<a name="l00208"></a>00208             
<a name="l00209"></a>00209             deviceContext,
<a name="l00210"></a>00210             ChoosePixelFormat( deviceContext,  &amp;<a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a> ),
<a name="l00211"></a>00211             &amp;<a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>
<a name="l00212"></a>00212         );
<a name="l00213"></a>00213         
<a name="l00214"></a>00214         <span class="keywordflow">return</span>  wglCreateContext( deviceContext );
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216     
<a name="l00217"></a>00217   <span class="keyword">private</span>:
<a name="l00218"></a>00218     
<a name="l00219"></a><a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">00219</a>     PIXELFORMATDESCRIPTOR    <a class="code" href="class_open_g_l.html#71d4045939fbaac94b3058869fad5a06">mPixelFormat</a>;    <span class="comment">//  ピクセルフォーマットの設定。</span>
<a name="l00220"></a>00220 };
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00228"></a><a class="code" href="class_file_dialog_base.html">00228</a> <span class="keyword">class </span><a class="code" href="class_file_dialog_base.html" title="ファイルダイアログを定義。">FileDialogBase</a> {
<a name="l00229"></a>00229     
<a name="l00230"></a>00230   <span class="keyword">public</span>:
<a name="l00231"></a>00231     
<a name="l00232"></a><a class="code" href="class_file_dialog_base.html#65610451161ba5d1c30ae3ff50ce285d">00232</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code" href="class_file_dialog_base.html#65610451161ba5d1c30ae3ff50ce285d">getFilePath</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{
<a name="l00233"></a>00233         
<a name="l00234"></a>00234         <span class="keywordflow">return</span>  <a class="code" href="class_file_dialog_base.html#97cc3aaeb20adbb68fe8a9cf0253d1a5">mFilePath</a>;
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236     
<a name="l00237"></a>00237   <span class="keyword">protected</span>:
<a name="l00238"></a>00238     
<a name="l00239"></a><a class="code" href="class_file_dialog_base.html#5a7e6caa207df4607ab03c7892aee8e5">00239</a>     <a class="code" href="class_file_dialog_base.html#5a7e6caa207df4607ab03c7892aee8e5">FileDialogBase</a>( HWND  window,   DWORD  flags,   <span class="keyword">const</span> <a class="code" href="struct_file_dialog_info.html" title="ファイルダイアログの情報を格納する。">FileDialogInfo</a>&amp;  info ) {
<a name="l00240"></a>00240         
<a name="l00241"></a>00241         memset( &amp;<a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>,  0,  <span class="keyword">sizeof</span>( OPENFILENAME ) );
<a name="l00242"></a>00242         
<a name="l00243"></a>00243         
<a name="l00244"></a>00244         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lStructSize     =  <span class="keyword">sizeof</span>( OPENFILENAME );
<a name="l00245"></a>00245         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.hwndOwner       =  window;
<a name="l00246"></a>00246         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpstrFilter     =  info.<a class="code" href="struct_file_dialog_info.html#339fdeec7655fa24f2ef8746c577f096">mFilterList</a>;
<a name="l00247"></a>00247         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpstrFile       =  <a class="code" href="class_file_dialog_base.html#97cc3aaeb20adbb68fe8a9cf0253d1a5">mFilePath</a>;
<a name="l00248"></a>00248         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpstrFileTitle  =  <a class="code" href="class_file_dialog_base.html#e0423228a06af0314987d8bdc511fe30">mFileTitle</a>;
<a name="l00249"></a>00249         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.nMaxFile        =  MAX_PATH;
<a name="l00250"></a>00250         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.nMaxFileTitle   =  MAX_PATH;
<a name="l00251"></a>00251         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.hInstance       =  0;
<a name="l00252"></a>00252         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpfnHook        =  0;
<a name="l00253"></a>00253         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.Flags           =  flags;
<a name="l00254"></a>00254         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpstrDefExt     =  info.<a class="code" href="struct_file_dialog_info.html#085e3b3dde5d325841fc7ede280716e1">mDefaultExtension</a>;
<a name="l00255"></a>00255         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.lpstrTitle      =  info.<a class="code" href="struct_file_dialog_info.html#2f257ffa57fd5895f8f5f816eeb8ce6e">mTitle</a>;
<a name="l00256"></a>00256         
<a name="l00257"></a>00257         
<a name="l00258"></a>00258 <span class="preprocessor">      #if( _WIN32_WINNT  &gt;=  0x0500 )</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>        
<a name="l00260"></a>00260         <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>.pvReserved  =  0;
<a name="l00261"></a>00261         
<a name="l00262"></a>00262 <span class="preprocessor">      #endif</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span>    }
<a name="l00264"></a>00264     
<a name="l00265"></a>00265     
<a name="l00266"></a><a class="code" href="class_file_dialog_base.html#ee1bd4cec61809ce738b2cdaf9d62be8">00266</a>     <span class="keywordtype">void</span>  <a class="code" href="class_file_dialog_base.html#ee1bd4cec61809ce738b2cdaf9d62be8">initialize</a>( <span class="keywordtype">void</span> ) {
<a name="l00267"></a>00267         
<a name="l00268"></a>00268         *<a class="code" href="class_file_dialog_base.html#97cc3aaeb20adbb68fe8a9cf0253d1a5">mFilePath</a>   =  0;
<a name="l00269"></a>00269         *<a class="code" href="class_file_dialog_base.html#e0423228a06af0314987d8bdc511fe30">mFileTitle</a>  =  0;
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271     
<a name="l00272"></a>00272     
<a name="l00273"></a><a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">00273</a>     OPENFILENAME    <a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a>;      <span class="comment">//  ファイルダイアログ。</span>
<a name="l00274"></a><a class="code" href="class_file_dialog_base.html#97cc3aaeb20adbb68fe8a9cf0253d1a5">00274</a>     <span class="keywordtype">char</span>            <a class="code" href="class_file_dialog_base.html#97cc3aaeb20adbb68fe8a9cf0253d1a5">mFilePath</a> [257];    <span class="comment">//  ファイルのパス名。</span>
<a name="l00275"></a><a class="code" href="class_file_dialog_base.html#e0423228a06af0314987d8bdc511fe30">00275</a>     <span class="keywordtype">char</span>            <a class="code" href="class_file_dialog_base.html#e0423228a06af0314987d8bdc511fe30">mFileTitle</a>[257];    <span class="comment">//  ファイルのタイトル名。</span>
<a name="l00276"></a>00276 };
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00284"></a><a class="code" href="class_open_file_dialog.html">00284</a> <span class="keyword">class </span><a class="code" href="class_open_file_dialog.html" title="オープンファイルダイアログを定義。">OpenFileDialog</a>  :  <span class="keyword">public</span> <a class="code" href="class_file_dialog_base.html" title="ファイルダイアログを定義。">FileDialogBase</a> {
<a name="l00285"></a>00285     
<a name="l00286"></a>00286   <span class="keyword">public</span>:
<a name="l00287"></a>00287     
<a name="l00288"></a><a class="code" href="class_open_file_dialog.html#6b99a7ff58dce8492dbd791365b1cbf8">00288</a>     <a class="code" href="class_open_file_dialog.html#6b99a7ff58dce8492dbd791365b1cbf8">OpenFileDialog</a>( HWND  window,   <span class="keyword">const</span> <a class="code" href="struct_file_dialog_info.html" title="ファイルダイアログの情報を格納する。">FileDialogInfo</a>&amp;  info )  :
<a name="l00289"></a>00289         
<a name="l00290"></a>00290         <a class="code" href="class_file_dialog_base.html" title="ファイルダイアログを定義。">FileDialogBase</a>(
<a name="l00291"></a>00291             
<a name="l00292"></a>00292             window,
<a name="l00293"></a>00293             OFN_HIDEREADONLY | OFN_FILEMUSTEXIST,
<a name="l00294"></a>00294             info
<a name="l00295"></a>00295         )
<a name="l00296"></a>00296     {}
<a name="l00297"></a>00297     
<a name="l00298"></a>00298     
<a name="l00299"></a><a class="code" href="class_open_file_dialog.html#959aaa575c61365139ae002d57f5baa9">00299</a>     <span class="keywordtype">bool</span>  <a class="code" href="class_open_file_dialog.html#959aaa575c61365139ae002d57f5baa9">operator ()</a>( <span class="keywordtype">void</span> ) {
<a name="l00300"></a>00300         
<a name="l00301"></a>00301         <a class="code" href="class_file_dialog_base.html#ee1bd4cec61809ce738b2cdaf9d62be8">initialize</a>();
<a name="l00302"></a>00302         
<a name="l00303"></a>00303         <span class="keywordflow">return</span>  GetOpenFileName( &amp;<a class="code" href="class_file_dialog_base.html#5c331da8ecd19eadb37aa47f4fa23c55">mOpenFileName</a> );
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305 };
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00313"></a><a class="code" href="class_main.html">00313</a> <span class="keyword">class </span><a class="code" href="class_main.html" title="メイン処理を定義。">Main</a> {
<a name="l00314"></a>00314     
<a name="l00315"></a>00315   <span class="keyword">public</span>:
<a name="l00316"></a>00316     
<a name="l00317"></a><a class="code" href="class_main.html#e532961b999c519b298ec93ba275e37d">00317</a>     <a class="code" href="class_main.html#e532961b999c519b298ec93ba275e37d">Main</a>( <span class="keywordtype">void</span> )  :  <a class="code" href="class_main.html#375eecf185f785e8068a8dd8bdee77ac">mMainWindow</a>( <a class="code" href="3d_graph_8cpp.html#e38da05264aaae6d7e93b2dac3235476" title="メインウィンドウのウィンドウプロシージャ。">mainWindowProcedure</a>,  <span class="stringliteral">"IDM_MENU"</span>,  <span class="stringliteral">"main"</span> ) {
<a name="l00318"></a>00318         
<a name="l00319"></a>00319         <a class="code" href="class_main.html#375eecf185f785e8068a8dd8bdee77ac">mMainWindow</a>.<a class="code" href="class_window.html#470537671ff84cb044d913432acf98ae">create</a>( <span class="stringliteral">"OpenGL 3D Graph"</span>,  640, 480 );
<a name="l00320"></a>00320     }
<a name="l00321"></a>00321     
<a name="l00322"></a>00322     
<a name="l00323"></a><a class="code" href="class_main.html#41e53149c3b21711ab3ff3108f46b140">00323</a>     <span class="keywordtype">int</span>  <a class="code" href="class_main.html#41e53149c3b21711ab3ff3108f46b140">operator ()</a>( <span class="keywordtype">void</span> ) {
<a name="l00324"></a>00324         
<a name="l00325"></a>00325         <span class="keywordflow">try</span>                            {  <a class="code" href="class_main.html#e877eacbd6f1786ee74f7a56769c2255">sendMessage</a>();  }
<a name="l00326"></a>00326         <span class="keywordflow">catch</span>( <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a>&amp;  exception ) {  exception  ();  }
<a name="l00327"></a>00327         
<a name="l00328"></a>00328         <span class="keywordflow">return</span>  <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">mMessage</a>.wParam );
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330     
<a name="l00331"></a>00331   <span class="keyword">private</span>:
<a name="l00332"></a>00332     
<a name="l00333"></a><a class="code" href="class_main.html#e877eacbd6f1786ee74f7a56769c2255">00333</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main.html#e877eacbd6f1786ee74f7a56769c2255">sendMessage</a>( <span class="keywordtype">void</span> ) {
<a name="l00334"></a>00334         
<a name="l00335"></a>00335         <span class="keywordflow">while</span> ( <a class="code" href="class_main.html#6d916bc109f7b29cb4644730b22fc707">isLoop</a>() ) {
<a name="l00336"></a>00336             
<a name="l00337"></a>00337             TranslateMessage( &amp;<a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">mMessage</a> );
<a name="l00338"></a>00338             DispatchMessage ( &amp;<a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">mMessage</a> );
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341     
<a name="l00342"></a>00342     
<a name="l00343"></a><a class="code" href="class_main.html#a9560569dc8169621a61262b2362505e">00343</a>     BOOL  <a class="code" href="class_main.html#a9560569dc8169621a61262b2362505e">getMessege</a>( <span class="keywordtype">void</span> ) {
<a name="l00344"></a>00344         
<a name="l00345"></a>00345         <span class="keywordflow">return</span>  <a class="code" href="class_main.html#fd2c94d24a199041c4048faadd5dfd0c">mState</a> = GetMessage( &amp;<a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">mMessage</a>,  0,0,0 );
<a name="l00346"></a>00346     }
<a name="l00347"></a>00347     
<a name="l00348"></a>00348     
<a name="l00349"></a><a class="code" href="class_main.html#6d916bc109f7b29cb4644730b22fc707">00349</a>     BOOL  <a class="code" href="class_main.html#6d916bc109f7b29cb4644730b22fc707">isLoop</a>( <span class="keywordtype">void</span> ) throw( <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a> ) {
<a name="l00350"></a>00350         
<a name="l00351"></a>00351         <span class="keywordflow">if</span> ( <a class="code" href="class_main.html#a9560569dc8169621a61262b2362505e">getMessege</a>() == -1 ) {
<a name="l00352"></a>00352             
<a name="l00353"></a>00353             <span class="keywordflow">throw</span>  Exception( <span class="stringliteral">"メッセージが不正です"</span>,  <span class="stringliteral">"-1"</span> );
<a name="l00354"></a>00354         }
<a name="l00355"></a>00355         
<a name="l00356"></a>00356         <span class="keywordflow">return</span>  <a class="code" href="class_main.html#fd2c94d24a199041c4048faadd5dfd0c">mState</a>;
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358     
<a name="l00359"></a>00359     
<a name="l00360"></a><a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">00360</a>     MSG       <a class="code" href="class_main.html#e3c718209c0fba01c8cfcbeff6f91540">mMessage</a>;      <span class="comment">//  メッセージ。</span>
<a name="l00361"></a><a class="code" href="class_main.html#fd2c94d24a199041c4048faadd5dfd0c">00361</a>     BOOL      <a class="code" href="class_main.html#fd2c94d24a199041c4048faadd5dfd0c">mState</a>;        <span class="comment">//  メッセージ取得の状態。</span>
<a name="l00362"></a><a class="code" href="class_main.html#375eecf185f785e8068a8dd8bdee77ac">00362</a>     <a class="code" href="class_window.html" title="ウィンドウを定義。">Window</a>    <a class="code" href="class_main.html#375eecf185f785e8068a8dd8bdee77ac">mMainWindow</a>;   <span class="comment">//  メインウィンドウ。</span>
<a name="l00363"></a>00363 };
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00371"></a><a class="code" href="class_main_window_procedure.html">00371</a> <span class="keyword">class </span><a class="code" href="class_main_window_procedure.html" title="メインウィンドウのプロシージャを定義。">MainWindowProcedure</a> {
<a name="l00372"></a>00372     
<a name="l00373"></a>00373   <span class="keyword">public</span>:
<a name="l00374"></a>00374     
<a name="l00375"></a><a class="code" href="class_main_window_procedure.html#9b95d596601092b0b865574d3752ad5e">00375</a>     <a class="code" href="class_main_window_procedure.html#9b95d596601092b0b865574d3752ad5e">MainWindowProcedure</a>( HWND  window )  :
<a name="l00376"></a>00376         
<a name="l00377"></a>00377         <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>          ( window                     ),
<a name="l00378"></a>00378         <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a>   ( GetDC   ( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>        ) ),
<a name="l00379"></a>00379         <a class="code" href="class_main_window_procedure.html#98bfd9aabc171eed1f12e35fb12c5a3b">mRenderingContext</a>( <a class="code" href="class_open_g_l.html" title="OpenGL用のレンダリングコンテキストを定義。">OpenGL</a>()( <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a> ) )
<a name="l00380"></a>00380     {
<a name="l00381"></a>00381         <a class="code" href="class_main_window_procedure.html#d52be41b47418a043756af811d41e93c">paint</a>();
<a name="l00382"></a>00382     }
<a name="l00383"></a>00383     
<a name="l00384"></a>00384     
<a name="l00385"></a><a class="code" href="class_main_window_procedure.html#e35d17825f4523914e3d9c69de3e7589">00385</a>     LRESULT  <a class="code" href="class_main_window_procedure.html#e35d17825f4523914e3d9c69de3e7589">operator ()</a>( UINT  message,   WPARAM  wParameter,   LPARAM  lParameter ) {
<a name="l00386"></a>00386         
<a name="l00387"></a>00387         <span class="keywordflow">switch</span> ( message ) {
<a name="l00388"></a>00388             
<a name="l00389"></a>00389           <span class="keywordflow">case</span>  WM_PAINT   : <a class="code" href="class_main_window_procedure.html#d52be41b47418a043756af811d41e93c">paint</a>  ();              <span class="keywordflow">break</span>;
<a name="l00390"></a>00390           <span class="keywordflow">case</span>  WM_SIZE    : <a class="code" href="class_main_window_procedure.html#a461d5f286d4555203bb2c56f6b35827">size</a>   ();              <span class="keywordflow">break</span>;
<a name="l00391"></a>00391           <span class="keywordflow">case</span>  WM_DESTROY : <a class="code" href="class_main_window_procedure.html#10d10c55e7cbcec5b5e1ee7760e2af4e">destroy</a>();              <span class="keywordflow">break</span>;
<a name="l00392"></a>00392           <span class="keywordflow">case</span>  WM_COMMAND : <a class="code" href="class_main_window_procedure.html#400eeaa6d44e87c7901e231a59aecb06">command</a>( wParameter );  <span class="keywordflow">break</span>;
<a name="l00393"></a>00393             
<a name="l00394"></a>00394           <span class="keywordflow">default</span>:
<a name="l00395"></a>00395             
<a name="l00396"></a>00396             <span class="keywordflow">return</span>  DefWindowProc( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,  message,  wParameter,  lParameter );
<a name="l00397"></a>00397         }
<a name="l00398"></a>00398         
<a name="l00399"></a>00399         <span class="keywordflow">return</span>  0;
<a name="l00400"></a>00400     }
<a name="l00401"></a>00401     
<a name="l00402"></a>00402   <span class="keyword">private</span>:
<a name="l00403"></a>00403     
<a name="l00404"></a><a class="code" href="class_main_window_procedure.html#400eeaa6d44e87c7901e231a59aecb06">00404</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#400eeaa6d44e87c7901e231a59aecb06">command</a>( WPARAM  wParameter ) {
<a name="l00405"></a>00405         
<a name="l00406"></a>00406         <span class="keywordflow">switch</span> ( LOWORD( wParameter ) ) {
<a name="l00407"></a>00407             
<a name="l00408"></a>00408           <span class="keywordflow">case</span>  IDM_OPEN : <a class="code" href="class_main_window_procedure.html#fbf7d2966a7878fae6236195bdf1f9e2">open</a>();  <span class="keywordflow">break</span>;
<a name="l00409"></a>00409           <span class="keywordflow">case</span>  IDM_EXIT : <a class="code" href="class_main_window_procedure.html#f0f47f221f20a8dce4be638ed3c8ee95">exit</a>();  <span class="keywordflow">break</span>;
<a name="l00410"></a>00410             
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413     
<a name="l00414"></a>00414     
<a name="l00415"></a><a class="code" href="class_main_window_procedure.html#d52be41b47418a043756af811d41e93c">00415</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#d52be41b47418a043756af811d41e93c">paint</a>( <span class="keywordtype">void</span> ) {
<a name="l00416"></a>00416         
<a name="l00417"></a>00417         PAINTSTRUCT  <a class="code" href="class_main_window_procedure.html#d52be41b47418a043756af811d41e93c">paint</a>;    <span class="comment">//  描画情報。</span>
<a name="l00418"></a>00418         
<a name="l00419"></a>00419         BeginPaint( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,  &amp;paint );  {
<a name="l00420"></a>00420             
<a name="l00421"></a>00421             wglMakeCurrent( <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a>,  <a class="code" href="class_main_window_procedure.html#98bfd9aabc171eed1f12e35fb12c5a3b">mRenderingContext</a> );
<a name="l00422"></a>00422             SwapBuffers   ( <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a>                     );
<a name="l00423"></a>00423             
<a name="l00424"></a>00424         }  EndPaint( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,  &amp;paint );
<a name="l00425"></a>00425     }
<a name="l00426"></a>00426     
<a name="l00427"></a>00427     
<a name="l00428"></a><a class="code" href="class_main_window_procedure.html#a461d5f286d4555203bb2c56f6b35827">00428</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#a461d5f286d4555203bb2c56f6b35827">size</a>( <span class="keywordtype">void</span> ) {
<a name="l00429"></a>00429         
<a name="l00430"></a>00430         GetClientRect ( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,                 &amp;<a class="code" href="class_main_window_procedure.html#deea707b3711c447f9e65370161fb4d0">mClientTerritory</a>       );
<a name="l00431"></a>00431         <a class="code" href="class_main_window_procedure.html#539f6f9ae8c6f38155cc35d03ffd2440">mPloter</a>.<a class="code" href="class_ploter_1_1_ploter.html#7e91630f2a9494405bafdec50507b82d" title="ウィンドウサイズ変化時のビューポートの再設定。">resize</a>( <a class="code" href="class_main_window_procedure.html#deea707b3711c447f9e65370161fb4d0">mClientTerritory</a>.right,  <a class="code" href="class_main_window_procedure.html#deea707b3711c447f9e65370161fb4d0">mClientTerritory</a>.bottom );
<a name="l00432"></a>00432     }
<a name="l00433"></a>00433     
<a name="l00434"></a>00434     
<a name="l00435"></a><a class="code" href="class_main_window_procedure.html#10d10c55e7cbcec5b5e1ee7760e2af4e">00435</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#10d10c55e7cbcec5b5e1ee7760e2af4e">destroy</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{
<a name="l00436"></a>00436         
<a name="l00437"></a>00437         wglMakeCurrent  ( 0,0                      );
<a name="l00438"></a>00438         wglDeleteContext( <a class="code" href="class_main_window_procedure.html#98bfd9aabc171eed1f12e35fb12c5a3b">mRenderingContext</a>        );
<a name="l00439"></a>00439         ReleaseDC       ( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,  <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a> );
<a name="l00440"></a>00440         PostQuitMessage ( 0                        );
<a name="l00441"></a>00441     }
<a name="l00442"></a>00442     
<a name="l00443"></a>00443     
<a name="l00444"></a><a class="code" href="class_main_window_procedure.html#fbf7d2966a7878fae6236195bdf1f9e2">00444</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#fbf7d2966a7878fae6236195bdf1f9e2">open</a>( <span class="keywordtype">void</span> ) {
<a name="l00445"></a>00445         
<a name="l00446"></a>00446         <a class="code" href="class_open_file_dialog.html" title="オープンファイルダイアログを定義。">OpenFileDialog</a>  <a class="code" href="3d_graph_8cpp.html#6a4a242d4c21f1ce0dac4ceed022aaa1">openPlotFile</a>( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>, ::<a class="code" href="3d_graph_8cpp.html#6a4a242d4c21f1ce0dac4ceed022aaa1">openPlotFile</a> );    <span class="comment">//  プロットファイルを開く。</span>
<a name="l00447"></a>00447         
<a name="l00448"></a>00448         <span class="keywordflow">if</span> ( <a class="code" href="3d_graph_8cpp.html#6a4a242d4c21f1ce0dac4ceed022aaa1">openPlotFile</a>() ) {
<a name="l00449"></a>00449             
<a name="l00450"></a>00450             <a class="code" href="class_main_window_procedure.html#539f6f9ae8c6f38155cc35d03ffd2440">mPloter</a>.<a class="code" href="class_ploter_1_1_ploter.html#2038e2ab69c80d03c9e8e9b6ce2f4fd3" title="設定する。">set</a>( openPlotFile.<a class="code" href="class_file_dialog_base.html#65610451161ba5d1c30ae3ff50ce285d">getFilePath</a>() );
<a name="l00451"></a>00451             
<a name="l00452"></a>00452             this-&gt;<a class="code" href="class_main_window_procedure.html#a461d5f286d4555203bb2c56f6b35827">size</a>(); SendMessage( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>, WM_PAINT, 0,0 );
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454     }
<a name="l00455"></a>00455     
<a name="l00456"></a>00456     
<a name="l00457"></a><a class="code" href="class_main_window_procedure.html#f0f47f221f20a8dce4be638ed3c8ee95">00457</a>     <span class="keywordtype">void</span>  <a class="code" href="class_main_window_procedure.html#f0f47f221f20a8dce4be638ed3c8ee95">exit</a>( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{
<a name="l00458"></a>00458         
<a name="l00459"></a>00459         SendMessage( <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>,  WM_DESTROY,  0, 0 );
<a name="l00460"></a>00460     }
<a name="l00461"></a>00461     
<a name="l00462"></a>00462     
<a name="l00463"></a><a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">00463</a>     HWND            <a class="code" href="class_main_window_procedure.html#02d0aca2421aa933832708975d2692b5">mWindow</a>;              <span class="comment">//  ウィンドウハンドル。</span>
<a name="l00464"></a><a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">00464</a>     HDC             <a class="code" href="class_main_window_procedure.html#80e52aa866dca5f69d5e717e42694371">mDeviceContext</a>;       <span class="comment">//  デバイスコンテキストハンドル。</span>
<a name="l00465"></a><a class="code" href="class_main_window_procedure.html#98bfd9aabc171eed1f12e35fb12c5a3b">00465</a>     HGLRC           <a class="code" href="class_main_window_procedure.html#98bfd9aabc171eed1f12e35fb12c5a3b">mRenderingContext</a>;    <span class="comment">//  レンダリングコンテキストハンドル。</span>
<a name="l00466"></a><a class="code" href="class_main_window_procedure.html#deea707b3711c447f9e65370161fb4d0">00466</a>     RECT            <a class="code" href="class_main_window_procedure.html#deea707b3711c447f9e65370161fb4d0">mClientTerritory</a>;     <span class="comment">//  クライアント領域の範囲。</span>
<a name="l00467"></a><a class="code" href="class_main_window_procedure.html#539f6f9ae8c6f38155cc35d03ffd2440">00467</a>     <a class="code" href="class_ploter_1_1_ploter.html" title="グラフ要素を統括するクラス。">Ploter::Ploter</a>  <a class="code" href="class_main_window_procedure.html#539f6f9ae8c6f38155cc35d03ffd2440">mPloter</a>;              <span class="comment">//  描画対象。</span>
<a name="l00468"></a>00468 };
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00476"></a><a class="code" href="3d_graph_8cpp.html#3c7e57980d0c4dafdd603dedbf10ef47">00476</a> <span class="keywordtype">int</span>  WINAPI  <a class="code" href="3d_graph_8cpp.html#3c7e57980d0c4dafdd603dedbf10ef47" title="メイン関数。">WinMain</a>( HINSTANCE  <a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">current</a>,   HINSTANCE,   LPSTR,   <span class="keywordtype">int</span>  <a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c">commandShow</a> ) {<a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a"></a>
<a name="l00477"></a>00477 <a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">    </a>
<a name="l00478"></a>00478 <a class="code" href="3d_graph_8cpp.html#93dbc50640898f3a8df7fef4a5922e3a">    ::current</a>      =  current;<a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c"></a>
<a name="l00479"></a>00479 <a class="code" href="3d_graph_8cpp.html#5ab2cc0a06ac9721a92c8780c7a5d77c">    ::commandShow</a>  =  commandShow;
<a name="l00480"></a>00480     
<a name="l00481"></a>00481     <span class="keywordflow">try</span>                            {  <span class="keywordflow">return</span>  <a class="code" href="class_main.html" title="メイン処理を定義。">Main</a>()();     }
<a name="l00482"></a>00482     <span class="keywordflow">catch</span>( <a class="code" href="class_exception.html" title="エラーメッセージを定義。">Exception</a>&amp;  exception ) {  <span class="keywordflow">return</span>  exception();  }
<a name="l00483"></a>00483 }
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00491"></a><a class="code" href="3d_graph_8cpp.html#e38da05264aaae6d7e93b2dac3235476">00491</a> LRESULT  CALLBACK  <a class="code" href="3d_graph_8cpp.html#e38da05264aaae6d7e93b2dac3235476" title="メインウィンドウのウィンドウプロシージャ。">mainWindowProcedure</a>( HWND  window,   UINT  message,   WPARAM  wParameter,   LPARAM  lParameter ) {
<a name="l00492"></a>00492     
<a name="l00493"></a>00493     <span class="keyword">static</span>  <a class="code" href="class_main_window_procedure.html" title="メインウィンドウのプロシージャを定義。">MainWindowProcedure</a>    procedure( window );
<a name="l00494"></a>00494     
<a name="l00495"></a>00495     <span class="keywordflow">return</span>  procedure( message,  wParameter,  lParameter );
<a name="l00496"></a>00496 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>3dGraphに対してTue Jan 6 00:57:19 2009に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
